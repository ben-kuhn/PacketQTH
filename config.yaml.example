# PacketQTH Configuration

telnet:
  # Address to bind to (0.0.0.0 = all interfaces, 127.0.0.1 = localhost only)
  host: 0.0.0.0

  # Port to listen on for telnet connections
  port: 8023

  # Maximum concurrent connections
  max_connections: 10

  # Connection timeout in seconds
  timeout_seconds: 300

  # BPQ compatibility mode
  # When true, expects callsign as first line (sent by LinBPQ automatically)
  # When false, prompts for callsign (for direct telnet connections)
  bpq_mode: true

homeassistant:
  # HomeAssistant base URL
  url: http://homeassistant.local:8123

  # Long-lived access token (create in HA profile settings)
  # Can also be set via HA_TOKEN environment variable (recommended)
  token: your_long_lived_access_token_here

  # Entity cache TTL in seconds
  cache_ttl: 60

  # Entity filtering
  entity_filter:
    # Include only these domains (null = all)
    include_domains:
      - light
      - switch
      - automation
      - cover
      - sensor
      - climate
      - fan
      - lock

    # Exclude these domains
    exclude_domains: null

    # Include specific entities (glob patterns supported)
    include_entities: null

    # Exclude specific entities (glob patterns supported)
    exclude_entities:
      - "sensor.uptime"
      - "sensor.time"
      - "sensor.*_last_boot"

auth:
  # Path to users file with TOTP secrets
  users_file: users.yaml

display:
  # Number of items to show per page
  page_size: 10

security:
  # Banner displayed on connection (keep short for bandwidth)
  welcome_banner: "PacketQTH v0.1.0"

  # Maximum authentication attempts per connection
  max_auth_attempts: 3

  # Allow connections from these IPs only (empty = allow all)
  # Use CIDR notation: 192.168.1.0/24, 10.0.0.0/8, etc.
  # Supports both IPv4 and IPv6
  ip_safelist: []
  # Example:
  #   - "192.168.1.0/24"
  #   - "10.0.0.0/8"
  #   - "44.0.0.0/8"  # AMPRNet
